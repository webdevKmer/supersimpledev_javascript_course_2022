<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 8 - 8i</title>
</head>
<body>
    <button onclick="playGame('heads')">heads</button>
    <button onclick="playGame('tails')">tails</button>
    
    <script>
        let result = Math.random().toFixed(1)
        let score
        if (localStorage.getItem('score') != null){
            score = localStorage.getItem('score')
            console.log('local storage');
        } else {
            score = {
                wins: 0,
                losses: 0,
            }
            console.log('local value');
        }
        console.log(score);
        let state = 'lost'
        
        function playGame(val) {
            console.log(result);
            result < 0.5 ? result = 'heads' : result = 'tails'
            guess = val
            guess === result ? state = 'win' : state = 'lost';
            if(state === 'win'){
                console.log('You Win');
                score.wins +=1
            } else {
                console.log('You Loose');
                score.losses +=1
            }
            localStorage.setItem('score', JSON.stringify(score))
            let actalscore = score.wins - score.losses
            
            console.log('Your score is :', actalscore);
            result = Math.random().toFixed(1)
        }
    </script>
</body>
</html>